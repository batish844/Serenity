<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cart</title>
    <link rel="stylesheet" href="Cart.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Navbar Section -->
    <nav class="nav">
      <div class="left">
        <button class="menu-toggle" id="menu-toggle">&#9776;</button>
        <a href="/Serenity/Home/index.html">Home</a>
        <a href="/Serenity/AboutUs/index.html">About Us</a>
        <a href="/Serenity/allProducts/index.html">Products</a>
      </div>

      <div class="center">
        <img src="Cart-Images/Logo.png" alt="Logo" />
      </div>

      <div class="right">
        <a href="/Serenity/ContactUs/Contact.html">Contact Us</a>
        <a href="#">Log In</a>
        <a href="/Serenity/Cart/Cart.html">Cart</a>
        <img src="Cart-Images/profileIcon.png" alt="Profile Icon" id="profile-icon">
        <!-- Search Icon and Input Field -->
        <a href="#" id="search-icon">
        <img src="Cart-Images/search.png" alt="Search" style="height: 24px; width: 24px">
        </a>
        <input type="text" id="search-input1" class="search-input" placeholder="Search..."  />
      </div>
    </nav>

    <div class="mobile-menu" id="mobile-menu" style="display: none;">
      <div class="menu-header">
        <div class="search-and-profile">
          <img id="search-icon" class="search-icon" src="Cart-Images/search.png" alt="Search Icon" />
          <input id="search-input2" class="search-input2" type="text" placeholder="Search..." />
          <img src="Cart-Images/profileIcon.png" alt="Profile Icon" />
        </div>
        <button id="menu-close" class="menu-close"> Close</button>
      </div>
      
      <nav class="menu-links">
        <a href="/Serenity/Home/index.html">Home</a>
        <a href="/Serenity/AboutUs/index.html">About Us</a>
        <a href="/Serenity/allProducts/index.html">Products</a>
        <a href="/Serenity/ContactUs/Contact.html">Contact Us</a>
        <a href="#">Log In</a>
        <a href="/Serenity/Cart/Cart.html">Cart</a>
      </nav>
    </div>


<!-- Pop Up  -->

<div class="profile-container">
  <div class="Account-Photo">
      <img id="profile-picture" src="Cart-Images/Profile-sample.png" alt="User Icon" />
      <label for="photo-upload" class="change-btn">Change photo</label>
      <input id="photo-upload" type="file" accept="image/*" style="display: none;" />
  </div>
  
  <!-- <script>
    const profileContainer = document.querySelector(".profile-container");
    const showProfileButton = document.getElementById("show-profile");
    const editButton = document.querySelector(".edit-info");
    const loginButton = document.querySelector(".Login");
    const usernameInput = document.querySelector(".Username");
    const passwordInput = document.querySelector(".password");
    const rememberMeCheckbox = document.getElementById("remember");
    const editBtns = document.querySelector(".edit-btns");

    if (localStorage.getItem("rememberedUsername")) {
        usernameInput.value = localStorage.getItem("rememberedUsername");
        rememberMeCheckbox.checked = true;
    }

    // Popup 
    showProfileButton.addEventListener("click", () => {
        if (profileContainer.classList.contains("active")) {
            profileContainer.classList.remove("active");
            setTimeout(() => {
                profileContainer.style.display = "none";
            }, 300);
        } else {
            profileContainer.style.display = "flex";
            setTimeout(() => profileContainer.classList.add("active"), 10);
        }
    });

    // Login  
    loginButton.addEventListener("click", (e) => {
        e.preventDefault();
        const username = usernameInput.value.trim();
        const password = passwordInput.value.trim();

        if (!username || !password) {
            alert("Please enter both username/email and password.");
        } else {
            if (rememberMeCheckbox.checked) {
                localStorage.setItem("rememberedUsername", username);
            } else {
                localStorage.removeItem("rememberedUsername");
            }
            alert(`Welcome, ${username}!`);
        }
    });

    // Change photo 
    const profilePicture = document.getElementById("profile-picture");
    const photoUpload = document.getElementById("photo-upload");

    const savedImage = localStorage.getItem("profilePicture");
    if (savedImage) {
        profilePicture.src = savedImage; 
        profilePicture.classList.add("profile-image");
    }

    photoUpload.addEventListener("change", () => {
        const file = photoUpload.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = () => {
                profilePicture.src = reader.result; 
                profilePicture.classList.add("profile-image");

                localStorage.setItem("profilePicture", reader.result);
            };
            reader.readAsDataURL(file); 
        }
    });

// Edit Info
editButton.addEventListener("click", () => {
    usernameInput.disabled = false;
    passwordInput.disabled = false;

    editButton.style.display = "none";
    loginButton.style.display = "none";

    const saveButton = document.createElement("button");
    saveButton.textContent = "Save Changes";
    saveButton.classList.add("save-btn");
    editBtns.appendChild(saveButton);

    const cancelButton = document.createElement("button");
    cancelButton.textContent = "Cancel";
    cancelButton.classList.add("cancel-btn"); 
    editBtns.appendChild(cancelButton);

    // Store  values
    const originalUsername = usernameInput.value;
    const originalPassword = passwordInput.value;


    // Save  
    saveButton.addEventListener("click", () => {
        const newUsername = usernameInput.value.trim();
        const newPassword = passwordInput.value.trim();

        // Email valid
        const emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
        if (!emailRegex.test(newUsername)) {
            alert("Please enter a valid email address.");
            return;
        }

        // Password valid
        const passwordRegex = /^(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
        if (!passwordRegex.test(newPassword)) {
            alert("Password must be at least 8 characters long, contain at least one uppercase letter, one number, and one special character.");
            return;
        }

        localStorage.setItem("savedUsername", newUsername);
        localStorage.setItem("savedPassword", newPassword);

        usernameInput.disabled = true;
        passwordInput.disabled = true;

        saveButton.remove();
        cancelButton.remove();
        editButton.style.display = "inline-block";
        loginButton.style.display = "inline-block";

        alert("Changes saved successfully!");
    });

    // Cancel 
    cancelButton.addEventListener("click", () => {

        // Reset the inputs 
        usernameInput.value = originalUsername;
        passwordInput.value = originalPassword;

        usernameInput.disabled = true;
        passwordInput.disabled = true;

        saveButton.remove();
        cancelButton.remove();
        editButton.style.display = "inline-block";
        loginButton.style.display = "inline-block";
    });
});
  </script> -->

<div class="Account-Info">
  <h1>Your Account</h1>

  <div class="Account-Form">
    <label for="">Username or email address</label>
    <input type="email" name="" class="input Username" placeholder="Email" required/>

    <label for="">Password</label>
    <input type="password" name="" class="input password" placeholder="Password" required/>
    <a class="Lost-Pass" href="###">Lost your password?</a>
  </div>

  <div class="edit-btns">
    <a href="###"> <button class="edit-info">Edit Info</button></a>
    <a href="###"><button class="Login">Log In</button></a>
  </div>

  <div class="remember-me">
    <input type="checkbox" id="remember" />
    <label for="remember">Remember me</label>
  </div>
</div>
</div>
<div class="overlay"></div>


    <!-- Cart Section -->
    <div class="Cart-Container">
      <!-- Header-cart Section -->
      <div class="Shopping-Header">
        <img src="Cart-Images/Shopping Bag.png" alt="Shopping Bag" />
        <h2>YOUR CART</h2>
      </div>

      <!-- Cart Items Section -->
      <div class="cart">
        <div class="cart-header">
          <span>Product</span>
          <div class="Qun-Pri">
            <span>Quantity</span>
            <span>Price</span>
          </div>
        </div>
        <div class="border-header"></div>
        <div id="cart-items"></div>
        <div class="border"></div>

        <!-- Promo Code & Subtotal Section -->
        <div class="promo-subtotal-container">
          <!-- Promo Code Section -->
          <div class="promo-code-section">
            <p class="promo-header">
              <span>Have a promo code?</span>

              <button class="promo-toggle-btn" onclick="togglePromoCode()">
                <i class="fas fa-angle-down"></i>
              </button>
            </p>
            <div id="promo-code-input" class="promo-input">
              <input
                type="text"
                id="promo-code"
                placeholder="Enter promo code"
              />
              <button onclick="applyPromoCode()">Apply</button>
            </div>
            <p id="promo-feedback" class="promo-feedback"></p>
          </div>

          <!-- Subtotal Section -->
          <div class="subtotal-section">
            <div class="subtotal-Price">
              <span id="sub">Subtotal </span>
              <span id="subtotal">$0.00</span>
            </div>
            <button class="checkout-btn">Checkout</button>
          </div>
        </div>
      </div>

      <!-- Recent Cart viewed Section-->
      <div class="Recents-section">
        <div class="Recents">
          <img src="Cart-Images/Recents.png" alt="" />
          <h2>RECENTLY VIEWED</h2>
        </div>
        <div id="recently-viewed" class="recently-viewed-section">
          <!-- Recently Viewed Items -->
        </div>
      </div>

      <!-- Checkout -->
      <div id="checkout-modal" class="modal">
        <div class="modal-content">
          <button class="close-btn" onclick="closeModal()">X</button>
          <h2>Checkout</h2>
          <form class="pop-up-form">
            <!-- Main Wrapper Div -->
            <div class="main-wrapper">
              <!-- Row Wrapper: Contains Two Columns -->
              <div class="row-wrapper">
                <!-- Card Holder and Expiry Date -->
                <div class="row row1">
                  <div class="form-group">
                    <label for="card-holder">Card Holder</label>
                    <input
                      class="card-holder-input"
                      type="text"
                      id="card-holder"
                      placeholder=""
                    />
                  </div>
                  <div class="form-group">
                    <label for="expiry-date">Expiry Date</label>
                    <div class="expiry-inputs">
                      <input
                        type="text"
                        id="expiry-month"
                        placeholder="MM"
                        maxlength="2"
                      />
                      <select id="expiry-year">
                        <option value="" disabled selected>Year</option>
                        <script>
                          const currentYear = new Date().getFullYear();
                          const selectYear =
                            document.getElementById("expiry-year");
                          for (let i = 0; i <= 10; i++) {
                            const year = currentYear + i;
                            const option = document.createElement("option");
                            option.value = year.toString().slice(-2);
                            option.text = year.toString();
                            selectYear.add(option);
                          }
                        </script>
                      </select>
                    </div>
                  </div>
                </div>

                <!-- Card Number and CVC -->
                <div class="row row2">
                  <div class="form-group">
                    <label for="card-number">Card Number</label>
                    <input
                      class="card-number-input"
                      type="text"
                      id="card-number"
                      placeholder="xxxx xxxx xxxx xxxx"
                    />
                  </div>
                  <div class="form-group">
                    <label for="cvc-code">CVC Code</label>
                    <input
                      class="cvc-code-input"
                      type="text"
                      id="cvc-code"
                      placeholder="xxx"
                    />
                  </div>
                </div>
              </div>

              <!-- Confirm Payment Button -->
              <div class="row row3">
                <button type="submit">CONFIRM PAYMENT</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="Cart.js"></script>
  </body>
</html>
